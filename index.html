<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mega Name Generator</title>
    <style>
        :root {
            /* Updated palette for a more vibrant look */
            --primary: #4f46e5;
            --secondary: #8b5cf6;
            --accent: #f43f5e;
            --dark: #0f172a;
            --light: #f8fafc;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, var(--dark), #1e1b4b);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            color: var(--light);
        }

        /* Floating background particles */
        .bg-shape {
            position: absolute;
            border-radius: 50%;
            opacity: 0.15;
            z-index: 0;
            filter: blur(60px);
            animation: float 20s infinite linear;
        }
        .shape-1 { width: 400px; height: 400px; background: var(--primary); top: -100px; left: -100px; }
        .shape-2 { width: 300px; height: 300px; background: var(--accent); bottom: -50px; right: -50px; animation-duration: 15s; }
        .shape-3 { width: 200px; height: 200px; background: var(--secondary); top: 30%; left: 40%; animation-duration: 25s; opacity: 0.1; }

        .container {
            position: relative;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 3.5rem;
            border-radius: 30px;
            text-align: center;
            box-shadow: 0 30px 60px -10px rgba(0, 0, 0, 0.6);
            z-index: 10;
            width: 90%;
            max-width: 550px;
        }

        h1 {
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 2.5rem;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 600;
        }

        .display-box {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 2.5rem 1rem;
            margin-bottom: 2.5rem;
            min-height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid rgba(255, 255, 255, 0.05);
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.5);
            overflow: hidden; /* Hide long names spilling out */
        }

        .name-text {
            font-size: 2.8rem;
            font-weight: 800;
            white-space: nowrap;
            background: linear-gradient(to bottom, #fff, #94a3b8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: all 0.1s;
        }

        /* The Winner Effect */
        .winner {
            border-color: var(--accent);
            background: rgba(244, 63, 94, 0.1);
            box-shadow: 0 0 40px rgba(244, 63, 94, 0.4), inset 0 0 20px rgba(244, 63, 94, 0.2);
            animation: pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .winner .name-text {
            background: linear-gradient(to bottom, #fff, var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            transform: scale(1.15);
            text-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            padding: 1.2rem 3.5rem;
            font-size: 1.1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: white;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px -5px rgba(79, 70, 229, 0.4);
            position: relative;
            overflow: hidden;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 30px -5px rgba(79, 70, 229, 0.5);
        }

        button:active {
            transform: translateY(1px);
        }

        button:disabled {
            opacity: 0.6;
            cursor: default;
            transform: none;
            filter: grayscale(0.5);
        }

        /* Counter for fun */
        .counter {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.3);
            margin-top: 20px;
        }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(30px, 50px) rotate(180deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        @keyframes pop {
            0% { transform: scale(0.9); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Confetti Canvas */
        #confetti {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 20;
        }
    </style>
</head>
<body>

    <div class="bg-shape shape-1"></div>
    <div class="bg-shape shape-2"></div>
    <div class="bg-shape shape-3"></div>
    <canvas id="confetti"></canvas>

    <div class="container">
        <h1>Official Selection</h1>
        
        <div class="display-box" id="displayBox">
            <div class="name-text" id="nameText">WAITING...</div>
        </div>

        <button id="spinBtn" onclick="pickName()">Draw Name</button>
        <div class="counter" id="poolCounter">Pool size: Loading...</div>
    </div>

    <script>
        // 1. CONFIGURATION
        const TARGET_NAME = "Sharon Granger"; // <--- The Rig
        const POOL_SIZE = 1500; // Increased to 1500 for massive scale
        
        // 2. GENERATE EXTENSIVE DUMMY DATA
        // Expanded lists to create more unique combinations
        const firstNames = [
            "Oliver", "George", "Harry", "Jack", "Noah", "Charlie", "Jacob", "Alfie", "Freddie", "Oscar",
            "Leo", "Archie", "Arthur", "Thomas", "Logan", "Henry", "Theo", "James", "Joshua", "William",
            "Max", "Isaac", "Lucas", "Ethan", "Teddy", "Finley", "Mason", "Harrison", "Hunter", "Alexander",
            "Daniel", "Adam", "Samuel", "Joseph", "Sebastian", "Tommy", "Dylan", "Arlo", "Edward", "Benjamin",
            "Rory", "Mohammed", "Toby", "Louie", "Elijah", "Riley", "Luca", "Reuben", "Albie", "Jenson",
            "Olivia", "Amelia", "Isla", "Ava", "Mia", "Grace", "Freya", "Lily", "Sophia", "Ivy",
            "Emily", "Willow", "Evie", "Florence", "Poppy", "Isabella", "Daisy", "Elsie", "Sienna", "Alice",
            "Ella", "Sofia", "Phoebe", "Charlotte", "Harper", "Millie", "Matilda", "Ruby", "Evelyn", "Esme",
            "Lola", "Sophie", "Imogen", "Lucy", "Rosie", "Maya", "Elizabeth", "Jessica", "Georgia", "Hannah",
            "Sarah", "Emma", "Joanne", "Karen", "David", "Paul", "Mark", "Andrew", "Richard", "Steven", 
            "Christopher", "Helen", "Claire", "Nicola", "Lisa", "Rachel", "Laura", "Michelle", "Susan"
        ];
        
        // Common UK Surnames (Wales, Scotland, England mix)
        const lastNames = [
            "Smith", "Jones", "Williams", "Taylor", "Brown", "Davies", "Evans", "Wilson", "Thomas", "Johnson",
            "Roberts", "Robinson", "Thompson", "Wright", "Walker", "White", "Edwards", "Hughes", "Green", "Hall",
            "Lewis", "Harris", "Clarke", "Jackson", "Wood", "Turner", "Martin", "Cooper", "Hill",
            "Ward", "Morris", "Moore", "Clark", "Lee", "King", "Baker", "Harrison", "Morgan", "Allen",
            "James", "Scott", "Phillips", "Watson", "Davis", "Parker", "Griffiths", "Bennett", "Young", "Carter",
            "Cook", "Bailey", "Richardson", "Kelly", "Simpson", "Marshall", "Collins", "Price", "Murray",
            "Owen", "Shaw", "Richards", "Miller", "Cox", "Fox", "Reynolds", "Lloyd", "Ellis", "Khan"
        ];
        
        let namePool = [];
        
        // Generate the massive list
        function initPool() {
            for(let i = 0; i < POOL_SIZE; i++) {
                const randomFirst = firstNames[Math.floor(Math.random() * firstNames.length)];
                const randomLast = lastNames[Math.floor(Math.random() * lastNames.length)];
                namePool.push(`${randomFirst} ${randomLast}`);
            }
            // Update UI
            document.getElementById('poolCounter').innerText = `Pool size: ${POOL_SIZE.toLocaleString()} entries`;
        }

        initPool();

        // 3. LOGIC
        const nameText = document.getElementById('nameText');
        const displayBox = document.getElementById('displayBox');
        const spinBtn = document.getElementById('spinBtn');
        let isSpinning = false;

        function pickName() {
            if (isSpinning) return;
            isSpinning = true;
            spinBtn.disabled = true;
            spinBtn.innerText = "Scanning...";
            
            // Reset styles
            displayBox.classList.remove('winner');
            nameText.style.opacity = 1;

            // ANIMATION PHYSICS
            // Start very fast (30ms) to simulate digging through a big list
            let speed = 30; 
            let counter = 0;
            let loops = 0;
            
            // The cycling effect
            const cycle = () => {
                // Pick a random name from the pool
                const randomName = namePool[Math.floor(Math.random() * namePool.length)];
                nameText.innerText = randomName;

                counter++;
                
                // Logic to slow down the spinning
                // We let it run fast for longer (loops > 20) before stopping
                if (counter > 4) { // Update speed every 4 frames
                    // Exponential slowdown curve
                    if (loops < 10) {
                        speed += 2; // Slow down very gradually at first
                    } else if (loops < 20) {
                        speed += 10; // Medium slowdown
                    } else {
                        speed += 30; // Rapid braking at the end
                    }
                    
                    counter = 0;
                    loops++;
                }

                // STOP CONDITION
                // Wait for speed to become very slow (>= 400ms)
                if (speed >= 400) {
                    finalizeSelection();
                } else {
                    setTimeout(cycle, speed);
                }
            };

            cycle();
        }

        function finalizeSelection() {
            // THE RIG: Hardcode the result here
            nameText.innerText = TARGET_NAME;
            
            // Visual Flair
            displayBox.classList.add('winner');
            spinBtn.innerText = "Select Again";
            spinBtn.disabled = false;
            isSpinning = false;
            
            triggerConfetti();
        }

        // 4. CONFETTI EFFECT
        function triggerConfetti() {
            const canvas = document.getElementById('confetti');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const particles = [];
            const particleCount = 150; // More confetti!

            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: window.innerWidth / 2,
                    y: window.innerHeight / 2,
                    vx: (Math.random() - 0.5) * 25,
                    vy: (Math.random() - 0.5) * 25,
                    size: Math.random() * 8 + 4,
                    color: `hsl(${Math.random() * 360}, 100%, 60%)`,
                    life: 150,
                    gravity: 0.4
                });
            }

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                let active = false;

                particles.forEach((p) => {
                    if (p.life > 0) {
                        active = true;
                        p.x += p.vx;
                        p.y += p.vy;
                        p.vy += p.gravity;
                        p.life--;
                        p.size *= 0.96;

                        ctx.fillStyle = p.color;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                        ctx.fill();
                    }
                });

                if (active) requestAnimationFrame(draw);
            }
            draw();
        }

        // Handle Resize
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('confetti');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>